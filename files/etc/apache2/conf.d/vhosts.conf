<VirtualHost *:80>
    ServerName wplib.box
    DocumentRoot /var/www/localhost/htdocs

    <Directory /var/www/localhost/htdocs>
        Options SymlinksIfOwnerMatch Indexes
        AllowOverride All
	    DirectoryIndex index.php
	    Require all granted
    </Directory>
    ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://172.17.0.1:9000/var/www/$1
</VirtualHost>

<VirtualHost *:443>
    ServerName wplib.box
    DocumentRoot /var/www/localhost/htdocs
    SSLEngine on
    SSLCertificateFile /etc/apache2/certs/devcert.crt
    SSLCertificateKeyFile /etc/apache2/certs/devcert.key

    <Directory /var/www/localhost/htdocs>
        Options SymlinksIfOwnerMatch Indexes
        AllowOverride All
	    DirectoryIndex index.php
	    Require all granted
    </Directory>
    ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://172.17.0.1:9000/var/www/$1
</VirtualHost>

<VirtualHost *:80>
    ServerName mailhog.wplib.box
    ServerAlias mailhog.*
    ProxyPass /api/v2/websocket ws://mailhog:8025/api/v2/websocket
    ProxyPassMatch ^/(.*)$ http://mailhog:8025/$1
    ProxyPassReverse / http://mailhog.1:8025
</VirtualHost>

<VirtualHost *:80>
    ServerName adminer.wplib.box
    ServerAlias adminer.*
    DocumentRoot /srv/sites/adminer
    <Directory /srv/sites/adminer>
        Options Indexes SymlinksIfOwnerMatch
	    AllowOverride all
	    Require all granted
	    DirectoryIndex index.php
    </Directory>
    ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://172.17.0.1:9000/srv/sites/adminer/$1
</VirtualHost>

<VirtualHost *:443>
    ServerName adminer.wplib.box
    ServerAlias adminer.*
    DocumentRoot /srv/sites/adminer
    SSLEngine on
    SSLCertificateFile /etc/apache2/certs/adminer.crt
    SSLCertificateKeyFile /etc/apache2/certs/adminer.key
    <Directory /srv/sites/adminer>
        Options Indexes SymlinksIfOwnerMatch
	    AllowOverride all
	    Require all granted
	    DirectoryIndex index.php
    </Directory>
    ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://172.17.0.1:9000/srv/sites/adminer/$1
</VirtualHost>